import { Canvas, Controls, Meta, Source, Story } from "@storybook/blocks";

import * as CarouselStories from "./orbit-carousel.stories";

<Meta of={CarouselStories} />

# Orbit Carousel

A fully accessible, customizable carousel component built with Embla Carousel.

## Basic Example

<Canvas>
  <Story of={CarouselStories.Default} />
</Canvas>

## Components

The Orbit Carousel system consists of three main components:

1. **`<orbit-carousel>`** - The main container component that manages the carousel
2. **`<orbit-carousel-navigation>`** - Previous/Next navigation buttons
3. **`<orbit-carousel-progress>`** - Displays the current slide position

## Usage

```html
<orbit-carousel>
  <!-- Slides container (required) -->
  <ul data-orbit-slides>
    <li>Slide 1</li>
    <li>Slide 2</li>
    <li>Slide 3</li>
  </ul>

  <!-- Optional navigation controls -->
  <orbit-carousel-navigation direction="prev"
    >Previous</orbit-carousel-navigation
  >
  <orbit-carousel-navigation direction="next">Next</orbit-carousel-navigation>

  <!-- Optional progress display -->
  <orbit-carousel-progress>
    <span data-orbit-current>1</span> / <span data-orbit-total>3</span>
  </orbit-carousel-progress>
</orbit-carousel>
```

## Main Carousel Component

The `<orbit-carousel>` component is the primary container for your slides and controls.

### Props

<Controls />

## Navigation Buttons

The `<orbit-carousel-navigation>` component creates navigation buttons for moving between slides.

### Examples

```html
<!-- Basic navigation buttons -->
<orbit-carousel-navigation direction="prev">Previous</orbit-carousel-navigation>
<orbit-carousel-navigation direction="next">Next</orbit-carousel-navigation>

<!-- Custom styled buttons -->
<orbit-carousel-navigation direction="prev">
  <svg viewBox="0 0 24 24"><!-- arrow icon --></svg>
</orbit-carousel-navigation>
```

## Progress Indicator

The `<orbit-carousel-progress>` component displays the current slide position and total count.

### HTML Structure

Use these data attributes to display slide information:

- `data-orbit-current` - Will display the current slide number
- `data-orbit-total` - Will display the total number of slides

### Examples

```html
<!-- Simple numeric display -->
<orbit-carousel-progress>
  <span data-orbit-current>1</span> / <span data-orbit-total>5</span>
</orbit-carousel-progress>

<!-- Custom styled version -->
<orbit-carousel-progress>
  Slide <span data-orbit-current>1</span> of <span data-orbit-total>5</span>
</orbit-carousel-progress>
```

## Accessibility Features

The Orbit Carousel includes several accessibility features powered by the `@bluecadet/embla-carousel-a11y` plugin:

- Proper ARIA roles and attributes
- Screen reader announcements for slide changes

## Styling

The carousel components have minimal default styling to allow easy customization.

### Layout Requirements

The slides container should use flexbox with appropriate gap and sizing:

```html
<ul class="flex gap-4" data-orbit-slides>
  <li class="w-60 h-60 shrink-0">...</li>
  <li class="w-60 h-60 shrink-0">...</li>
  <!-- Important: Add shrink-0 to prevent slides from shrinking -->
</ul>
```
